var navButton=document.querySelector(".main-navigation__toggle"),navBox=document.querySelector(".main-navigation__box"),navList=document.querySelector(".main-navigation__list");document.querySelector("html").classList.remove("nojs"),navBox.classList.remove("main-navigation__box--active"),navList.classList.remove("main-navigation__list--show");var form=document.querySelector("#competitionForm");if(form){for(var formBtn=form.querySelector(".form__button"),requiredFields=[],i=0;i<form.elements.length;i++)requiredFields[i]=form.elements[i];requiredFields=requiredFields.filter(function(e){return e.hasAttribute("required")})}var ymaps,modalOk=document.querySelector(".modal--success"),modalOkBtn=document.querySelector("#modal-ok-close"),modalError=document.querySelector(".modal--error"),modalErrorBtn=document.querySelector("#modal-error-close"),reviewsSlider=document.querySelector("#reviews-slider"),subscribeSlider=document.querySelector("#subscribe-slider");if(navButton.addEventListener("click",function(e){e.preventDefault(),navButton.classList.toggle("main-navigation__toggle--active"),navBox.classList.toggle("main-navigation__box--active"),navList.classList.toggle("main-navigation__list--show")}),ymaps){function init(){document.querySelector("#mapContainer").classList.add("contacts__wrapper--js");var e=new ymaps.Map("map",{center:[59.93680432,30.32119082],zoom:16}),t=new ymaps.Placemark([59.93639525,30.32117603],{hintContent:"Pink",balloonContent:"Pink - приложение, которое перевернет ваш мир!"},{iconLayout:"default#image",iconImageHref:"img/map-marker-icon.svg",iconImageSize:[36,36],iconImageOffset:[-18,-18]});e.geoObjects.add(t)}ymaps.ready(init)}function slider(e){if(e){for(var i=e.querySelectorAll(".slider__item"),s=e.querySelectorAll(".slider__control"),t=e.querySelectorAll(".slider__toggle"),n=0,r=0;r<s.length;r++)a(s[r],i[r]),s[r].setAttribute("data-num",r);function a(e,t){e.addEventListener("click",function(){c(e,t)})}function c(e,t){for(var r=0;r<s.length;r++)s[r].classList.remove("slider__control--active"),i[r].classList.remove("slider__item--active");n=+e.dataset.num,e.classList.add("slider__control--active"),t.classList.add("slider__item--active")}for(r=0;r<t.length;r++)t[r].addEventListener("click",function(e){o(e.target)});function o(e){e.classList.contains("slider__toggle--prev")&&(--n<0&&(n=s.length-1),c(s[n],i[n])),e.classList.contains("slider__toggle--next")&&(++n>s.length-1&&(n=0),c(s[n],i[n]))}}}form&&(form.addEventListener("submit",function(e){e.preventDefault(),modalOk.classList.add("modal--show")}),formBtn.addEventListener("click",function(e){for(var t=!0,r=0;r<requiredFields.length;r++)requiredFields[r].classList.remove("textfield__input--invalid"),requiredFields[r].validity.valid||(requiredFields[r].classList.add("textfield__input--invalid"),t=!1);t||modalError.classList.add("modal--show")})),(modalOk||modalError)&&(modalOkBtn.addEventListener("click",function(){modalOk.classList.remove("modal--show")}),modalErrorBtn.addEventListener("click",function(){modalError.classList.remove("modal--show")}),document.addEventListener("keydown",function(e){27===e.keyCode&&(modalOk.classList.remove("modal--show"),modalError.classList.remove("modal--show"))})),slider(reviewsSlider),slider(subscribeSlider),function(e){var t,s,r,i,n,a,c,o=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(o)&&o.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(s=document.createElement("source"),r=function(e){var t,r,i=e.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(t=s.cloneNode(),i.insertBefore(t,i.firstElementChild),setTimeout(function(){i.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,r=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=r}))},i=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)r(t[e])},n=function(){clearTimeout(t),t=setTimeout(i,99)},a=e.matchMedia&&matchMedia("(orientation: landscape)"),c=function(){n(),a&&a.addListener&&a.addListener(n)},s.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?c():document.addEventListener("DOMContentLoaded",c),n))}(window),function(e,n,l){"use strict";function u(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function E(e,t){return e.res-t.res}function b(e,t){var r,i,s;if(e&&t)for(s=k.parseSet(t),e=k.makeUrl(e),r=0;r<s.length;r++)if(e===k.makeUrl(s[r].url)){i=s[r];break}return i}n.createElement("picture");var s,d,o,i,a,t,r,c,m,f,p,h,g,A,v,S,w,y,L,x,_,z,k={},q=!1,C=function(){},T=n.createElement("img"),B=T.getAttribute,R=T.setAttribute,M=T.removeAttribute,P=n.documentElement,D={},I={algorithm:""},F="data-pfsrc",O=F+"set",U=navigator.userAgent,$=/rident/.test(U)||/ecko/.test(U)&&U.match(/rv\:(\d+)/)&&35<RegExp.$1,W="currentSrc",Q=/\s+\+?\d+(e\d+)?w/,H=/(\([^)]+\))?\s*(.+)/,G=e.picturefillCFG,j="font-size:100%!important;",N=!0,V={},K={},J=e.devicePixelRatio,X={px:1,in:96},Y=n.createElement("a"),Z=!1,ee=/^[ \t\n\r\u000c]+/,te=/^[, \t\n\r\u000c]+/,re=/^[^ \t\n\r\u000c]+/,ie=/[,]+$/,se=/^\d+$/,ne=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,ae=function(e,t,r,i){e.addEventListener?e.addEventListener(t,r,i||!1):e.attachEvent&&e.attachEvent("on"+t,r)},ce=function(t){var r={};return function(e){return e in r||(r[e]=t(e)),r[e]}},oe=(i=/^([\d\.]+)(em|vw|px)$/,a=ce(function(e){return"return "+function(){for(var e=arguments,t=0,r=e[0];++t in e;)r=r.replace(e[t],e[++t]);return r}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var r;if(!(e in V))if(V[e]=!1,t&&(r=e.match(i)))V[e]=r[1]*X[r[2]];else try{V[e]=new Function("e",a(e))(X)}catch(e){}return V[e]}),le=function(e,t){return e.w?(e.cWidth=k.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ue=function(e){if(q){var t,r,i,s=e||{};if(s.elements&&1===s.elements.nodeType&&("IMG"===s.elements.nodeName.toUpperCase()?s.elements=[s.elements]:(s.context=s.elements,s.elements=null)),i=(t=s.elements||k.qsa(s.context||n,s.reevaluate||s.reselect?k.sel:k.selShort)).length){for(k.setupRun(s),Z=!0,r=0;r<i;r++)k.fillImg(t[r],s);k.teardownRun(s)}}};e.console&&console.warn,W in T||(W="src"),D["image/jpeg"]=!0,D["image/gif"]=!0,D["image/png"]=!0,D["image/svg+xml"]=n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),k.ns=("pf"+(new Date).getTime()).substr(0,9),k.supSrcset="srcset"in T,k.supSizes="sizes"in T,k.supPicture=!!e.HTMLPictureElement,k.supSrcset&&k.supPicture&&!k.supSizes&&(L=n.createElement("img"),T.srcset="data:,a",L.src="data:,a",k.supSrcset=T.complete===L.complete,k.supPicture=k.supSrcset&&k.supPicture),k.supSrcset&&!k.supSizes?(S="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",w=n.createElement("img"),y=function(){2===w.width&&(k.supSizes=!0),d=k.supSrcset&&!k.supSizes,q=!0,setTimeout(ue)},w.onload=y,w.onerror=y,w.setAttribute("sizes","9px"),w.srcset=S+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",w.src=S):q=!0,k.selShort="picture>img,img[srcset]",k.sel=k.selShort,k.cfg=I,k.DPR=J||1,k.u=X,k.types=D,k.setSize=C,k.makeUrl=ce(function(e){return Y.href=e,Y.href}),k.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},k.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?k.matchesMedia=function(e){return!e||matchMedia(e).matches}:k.matchesMedia=k.mMQ,k.matchesMedia.apply(this,arguments)},k.mMQ=function(e){return!e||oe(e)},k.calcLength=function(e){var t=oe(e,!0)||!1;return t<0&&(t=!1),t},k.supportsType=function(e){return!e||D[e]},k.parseSize=ce(function(e){var t=(e||"").match(H);return{media:t&&t[1],length:t&&t[2]}}),k.parseSet=function(e){return e.cands||(e.cands=function(i,d){function e(e){var t,r=e.exec(i.substring(o));return r?(t=r[0],o+=t.length,t):void 0}function t(){var e,t,r,i,s,n,a,c,o,l=!1,u={};for(i=0;i<f.length;i++)n=(s=f[i])[s.length-1],a=s.substring(0,s.length-1),c=parseInt(a,10),o=parseFloat(a),se.test(a)&&"w"===n?((e||t)&&(l=!0),0===c?l=!0:e=c):ne.test(a)&&"x"===n?((e||t||r)&&(l=!0),o<0?l=!0:t=o):se.test(a)&&"h"===n?((r||t)&&(l=!0),0===c?l=!0:r=c):l=!0;l||(u.url=m,e&&(u.w=e),t&&(u.d=t),r&&(u.h=r),r||t||e||(u.d=1),1===u.d&&(d.has1x=!0),u.set=d,p.push(u))}function r(){for(e(ee),s="",n="in descriptor";;){if(a=i.charAt(o),"in descriptor"===n)if(u(a))s&&(f.push(s),s="",n="after descriptor");else{if(","===a)return o+=1,s&&f.push(s),void t();if("("===a)s+=a,n="in parens";else{if(""===a)return s&&f.push(s),void t();s+=a}}else if("in parens"===n)if(")"===a)s+=a,n="in descriptor";else{if(""===a)return f.push(s),void t();s+=a}else if("after descriptor"===n)if(u(a));else{if(""===a)return void t();n="in descriptor",o-=1}o+=1}}for(var m,f,s,n,a,c=i.length,o=0,p=[];;){if(e(te),c<=o)return p;m=e(re),f=[],","===m.slice(-1)?(m=m.replace(ie,""),t()):r()}}(e.srcset,e)),e.cands},k.getEmValue=function(){var e;if(!s&&(e=n.body)){var t=n.createElement("div"),r=P.style.cssText,i=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",P.style.cssText=j,e.style.cssText=j,e.appendChild(t),s=t.offsetWidth,e.removeChild(t),s=parseFloat(s,10),P.style.cssText=r,e.style.cssText=i}return s||16},k.calcListLength=function(e){if(!(e in K)||I.uT){var t=k.calcLength(function(e){var t,r,i,s,n,a,c,o=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,l=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(i=(r=function(e){function t(){s&&(n.push(s),s="")}function r(){n[0]&&(a.push(n),n=[])}for(var i,s="",n=[],a=[],c=0,o=0,l=!1;;){if(""===(i=e.charAt(o)))return t(),r(),a;if(l){if("*"===i&&"/"===e[o+1]){l=!1,o+=2,t();continue}o+=1}else{if(u(i)){if(e.charAt(o-1)&&u(e.charAt(o-1))||!s){o+=1;continue}if(0===c){t(),o+=1;continue}i=" "}else if("("===i)c+=1;else if(")"===i)c-=1;else{if(","===i){t(),r(),o+=1;continue}if("/"===i&&"*"===e.charAt(o+1)){l=!0,o+=2;continue}}s+=i,o+=1}}}(e)).length,t=0;t<i;t++)if(n=(s=r[t])[s.length-1],c=n,o.test(c)&&0<=parseFloat(c)||l.test(c)||"0"===c||"-0"===c||"+0"===c){if(a=n,s.pop(),0===s.length)return a;if(s=s.join(" "),k.matchesMedia(s))return a}return"100vw"}(e));K[e]=t||X.width}return K[e]},k.setRes=function(e){var t;if(e)for(var r=0,i=(t=k.parseSet(e)).length;r<i;r++)le(t[r],e.sizes);return t},k.setRes.res=le,k.applySetCandidate=function(e,t){if(e.length){var r,i,s,n,a,c,o,l,u,d=t[k.ns],m=k.DPR;if(c=d.curSrc||t[W],(o=d.curCan||(S=t,w=c,!(y=e[0].set)&&w&&(y=(y=S[k.ns].sets)&&y[y.length-1]),(L=b(w,y))&&(w=k.makeUrl(w),S[k.ns].curSrc=w,(S[k.ns].curCan=L).res||le(L,L.set.sizes)),L))&&o.set===e[0].set&&((u=$&&!t.complete&&o.res-.1>m)||(o.cached=!0,o.res>=m&&(a=o))),!a)for(e.sort(E),a=e[(n=e.length)-1],i=0;i<n;i++)if((r=e[i]).res>=m){a=e[s=i-1]&&(u||c!==k.makeUrl(r.url))&&(f=e[s].res,p=r.res,h=m,g=e[s].cached,v=A=void 0,h<("saveData"===I.algorithm?2.7<f?h+1:(v=(p-h)*(A=Math.pow(f-.6,1.5)),g&&(v+=.1*A),f+v):1<h?Math.sqrt(f*p):f))?e[s]:r;break}a&&(l=k.makeUrl(a.url),d.curSrc=l,d.curCan=a,l!==c&&k.setSrc(t,a),k.setSize(t))}var f,p,h,g,A,v,S,w,y,L},k.setSrc=function(e,t){var r;e.src=t.url,"image/svg+xml"===t.set.type&&(r=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=r))},k.getSet=function(e){var t,r,i,s=!1,n=e[k.ns].sets;for(t=0;t<n.length&&!s;t++)if((r=n[t]).srcset&&k.matchesMedia(r.media)&&(i=k.supportsType(r.type))){"pending"===i&&(r=i),s=r;break}return s},k.parseSets=function(e,t,r){var i,s,n,a,c=t&&"PICTURE"===t.nodeName.toUpperCase(),o=e[k.ns];(o.src===l||r.src)&&(o.src=B.call(e,"src"),o.src?R.call(e,F,o.src):M.call(e,F)),(o.srcset===l||r.srcset||!k.supSrcset||e.srcset)&&(i=B.call(e,"srcset"),o.srcset=i,a=!0),o.sets=[],c&&(o.pic=!0,function(e,t){var r,i,s,n,a=e.getElementsByTagName("source");for(r=0,i=a.length;r<i;r++)(s=a[r])[k.ns]=!0,(n=s.getAttribute("srcset"))&&t.push({srcset:n,media:s.getAttribute("media"),type:s.getAttribute("type"),sizes:s.getAttribute("sizes")})}(t,o.sets)),o.srcset?(s={srcset:o.srcset,sizes:B.call(e,"sizes")},o.sets.push(s),(n=(d||o.src)&&Q.test(o.srcset||""))||!o.src||b(o.src,s)||s.has1x||(s.srcset+=", "+o.src,s.cands.push({url:o.src,d:1,set:s}))):o.src&&o.sets.push({srcset:o.src,sizes:null}),o.curCan=null,o.curSrc=l,o.supported=!(c||s&&!k.supSrcset||n&&!k.supSizes),a&&k.supSrcset&&!o.supported&&(i?(R.call(e,O,i),e.srcset=""):M.call(e,O)),o.supported&&!o.srcset&&(!o.src&&e.src||e.src!==k.makeUrl(o.src))&&(null===o.src?e.removeAttribute("src"):e.src=o.src),o.parsed=!0},k.fillImg=function(e,t){var r,i,s,n,a,c=t.reselect||t.reevaluate;e[k.ns]||(e[k.ns]={}),r=e[k.ns],(c||r.evaled!==o)&&((!r.parsed||t.reevaluate)&&k.parseSets(e,e.parentNode,t),r.supported?r.evaled=o:(i=e,n=k.getSet(i),a=!1,"pending"!==n&&(a=o,n&&(s=k.setRes(n),k.applySetCandidate(s,i))),i[k.ns].evaled=a))},k.setupRun=function(){(!Z||N||J!==e.devicePixelRatio)&&(N=!1,J=e.devicePixelRatio,V={},K={},k.DPR=J||1,X.width=Math.max(e.innerWidth||0,P.clientWidth),X.height=Math.max(e.innerHeight||0,P.clientHeight),X.vw=X.width/100,X.vh=X.height/100,o=[X.height,X.width,J].join("-"),X.em=k.getEmValue(),X.rem=X.em)},k.supPicture?(ue=C,k.fillImg=C):(h=e.attachEvent?/d$|^c/:/d$|^c|^i/,g=function(){var e=n.readyState||"";A=setTimeout(g,"loading"===e?200:999),n.body&&(k.fillImgs(),(t=t||h.test(e))&&clearTimeout(A))},A=setTimeout(g,n.body?9:99),v=P.clientHeight,ae(e,"resize",(r=function(){N=Math.max(e.innerWidth||0,P.clientWidth)!==X.width||P.clientHeight!==v,v=P.clientHeight,N&&k.fillImgs()},c=99,p=function(){var e=new Date-f;e<c?m=setTimeout(p,c-e):(m=null,r())},function(){f=new Date,m||(m=setTimeout(p,c))})),ae(n,"readystatechange",g)),k.picturefill=ue,k.fillImgs=ue,k.teardownRun=C,ue._=k,e.picturefillCFG={pf:k,push:function(e){var t=e.shift();"function"==typeof k[t]?k[t].apply(k,e):(I[t]=e[0],Z&&k.fillImgs({reselect:!0}))}};for(;G&&G.length;)e.picturefillCFG.push(G.shift());e.picturefill=ue,"object"==typeof module&&"object"==typeof module.exports?module.exports=ue:"function"==typeof define&&define.amd&&define("picturefill",function(){return ue}),k.supPicture||(D["image/webp"]=(x="image/webp",_="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(z=new e.Image).onerror=function(){D[x]=!1,ue()},z.onload=function(){D[x]=1===z.width,ue()},z.src=_,"pending"))}(window,document);